(window.webpackJsonp=window.webpackJsonp||[]).push([["classif"],{"2e2f":function(t,e,a){},9132:function(t,e,a){"use strict";a.r(e),a("f4a0");var i=a("83e2"),r=a("f4e0"),s=(a("c34c"),a("9f02"),a("72d6")),o=a.n(s),n=a("0261"),c=a("a3be");n.default.use(o.a);var d={name:"classif",data:function(){return{merchant_category_pid:"",merchant_category_id:"",merchant_id:"",category_id:"",floor_id:"",chunk:!1,booksData:{cover:"http://pic.img",name:"伊斯坦布尔面纱下的七丘之城坦布尔面",author:"埃布鲁·宝雅",oldPrice:"62.12",price:"23.80",excerpt:"《当你老了》是爱尔兰诗人叶芝一生的爱情诗选"},classifList:[],brandList:[{name:"乐高",id:1},{name:"智库",id:2},{name:"网易严选",id:3},{name:"新经典",id:4},{name:"乐高",id:5},{name:"智库",id:6},{name:"网易严选",id:7},{name:"新经典",id:8},{name:"乐高",id:9},{name:"智库",id:10},{name:"网易严选",id:11},{name:"乐高",id:12}],minPrice:"",maxPrice:"",pageSize:24,pageNumber:1,booksList:[],totalNum:0,show_no_data:!1,sort:"zonghe",default_order:2,sale_order:"",price_order:"",create_time_order:""}},props:{searchData:{type:Object,default:function(){return{pageNumber:1,pageSize:36,keyword:"",category_id:"",theme_id:"",product_type:"",merchant_id:"",activity_id:"",brand_id:"",floor_id:"",min_price:"",max_price:"",default_order:"",sale_order:"",price_order:"",create_time_order:"",coupon_id:"",ranking_id:"",is_promotion:2,is_new:2,is_recommend:2,is_random:2,author_name:"",press_name:"",brand_name:"",merchant_category_pid:"",merchant_category_id:"",theme_category_id:""}}},showBreadcrumbCon:{type:Boolean,default:function(){return!0}},goodsType:{type:String,default:function(){return"z"}}},watch:{booksList:function(t){this.show_no_data=!(t&&0<t.length)}},created:function(){"z"===this.goodsType&&(this.category_id=this.$route.query.category_id?this.$route.query.category_id:"",this.merchant_id=this.$route.query.merchant_id?this.$route.query.merchant_id:"",this.merchant_category_pid=this.$route.query.category_id1?this.$route.query.category_id1:"",this.merchant_category_id=this.$route.query.category_id2?this.$route.query.category_id2:"",this.floor_id=this.$route.query.floor_id?this.$route.query.floor_id:"",this.brand_id=this.$route.query.brand_id?this.$route.query.brand_id:"",this.theme_category_id=this.$route.query.theme_category_id?this.$route.query.theme_category_id:"",this.initData(),this.getCategoryMenu(),this.category_id&&(this.getCategoryBrand(),this.getCategoryProperty()))},methods:{sortClick:function(t){this.sort=t,"zonghe"==this.sort&&(this.default_order=1==this.default_order?2:1,this.sale_order="",this.price_order="",this.create_time_order=""),"sale"==this.sort&&(this.sale_order=1==this.sale_order?2:1,this.default_order="",this.price_order="",this.create_time_order=""),"price"==this.sort&&(this.price_order=1==this.price_order?2:1,this.default_order="",this.sale_order="",this.create_time_order=""),"time"==this.sort&&(this.create_time_order=1==this.create_time_order?2:1,this.default_order="",this.sale_order="",this.price_order=""),this.pageNumber=1,this.initData()},getBooks:function(){var t=this;this.searchData.merchant_id=this.searchData.merchant_id?this.searchData.merchant_id:this.merchant_id,this.$ajax.post(c.pb,{pageSize:this.pageSize,pageNumber:this.pageNumber,default_order:this.default_order?this.default_order:"",merchant_id:this.searchData.merchant_id,product_type:this.searchData.searchData},(function(e){t.booksList=e.data.list,t.totalNum=e.data.total_rows}))},initData:function(){var t=this;this.searchData.merchant_id=this.searchData.merchant_id?this.searchData.merchant_id:this.merchant_id,this.$ajax.post(c.pb,{category_id:this.category_id,merchant_category_pid:this.merchant_category_pid,merchant_category_id:this.merchant_category_id,theme_category_id:this.theme_category_id,floor_id:this.floor_id,brand_id:this.brand_id,pageSize:this.pageSize,pageNumber:this.pageNumber,min_price:0<Number(this.minPrice)?this.minPrice:0,max_price:0<Number(this.maxPrice)?this.maxPrice:1e7,default_order:this.default_order?this.default_order:"",sale_order:this.sale_order?this.sale_order:"",price_order:this.price_order?this.price_order:"",create_time_order:this.create_time_order?this.create_time_order:"",merchant_id:this.searchData.merchant_id,is_promotion:this.searchData.is_promotion,is_new:this.searchData.is_new,is_recommend:this.searchData.is_recommend,is_random:this.searchData.is_random},(function(e){t.booksList=e.data.list,t.totalNum=e.data.total_rows}))},clearFilter:function(){this.minPrice="",this.maxPrice="",this.initData()},confirmBtn:function(){this.initData()},getCategoryMenu:function(){var t=this;this.$ajax.post(c.ac,{},(function(e){t.classifList=e.data.list}))},getCategoryBrand:function(){var t=this;this.$ajax.post(c.Zb,{category_id:this.category_id},(function(e){t.brandList=e.data.list}))},getCategoryProperty:function(){this.$ajax.post(c.bc,{category_id:this.category_id},(function(t){}))},handleSizeChange:function(t){this.pageNumber=t,this.initData()},handleCurrentChange:function(t){this.pageNumber=t,this.initData()},changeLayout:function(){this.chunk=!this.chunk},todetails:function(t){window.open("/detail/"+t)}},components:{InputNumber:r.a,Input:i.a}},h=(a("e2b4"),a("e90a")),_=Object(h.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classifContainer max-width margin-auto"},[t.showBreadcrumbCon?i("div",{staticClass:"breadcrumbCon"},[i("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:t.merchant_category_pid||t.merchant_category_id?"/merchant/home/"+t.searchData.merchant_id:"/"}}},[t._v(" 首页 ")]),i("el-breadcrumb-item",[t._v(t._s(t.$route.query.title))])],1)],1):t._e(),"z"===t.goodsType&&t.classifList?i("div",[i("div",{staticClass:"classifCon"},[i("div",{staticClass:"frontSpan"},[t._v("分类")]),i("ul",{staticClass:"mainClassif clearfix"},t._l(t.classifList,(function(e,a){return i("li",{key:a,on:{click:function(a){return t.$router.push({name:"classif",query:{category_id:e.id,title:e.name}})}}},[t._v(t._s(e.name)+" ")])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"brandCon"},[i("div",{staticClass:"frontSpan"},[t._v("品牌")]),i("ul",{staticClass:"mainClassif clearfix"},t._l(t.brandList,(function(e,a){return i("li",{key:a},[t._v(t._s(e.name))])})),0)]),i("div",{staticClass:"commonCon"},[i("div",{staticClass:"frontSpan"},[t._v("价格")]),i("div",{staticClass:"mainCon"},[i("Input",{staticStyle:{width:"80px"},model:{value:t.minPrice,callback:function(e){t.minPrice=e},expression:"minPrice"}}),i("span",[t._v("-----")]),i("Input",{staticStyle:{width:"80px"},model:{value:t.maxPrice,callback:function(e){t.maxPrice=e},expression:"maxPrice"}})],1)]),i("div",{staticClass:"btns"},[i("a",{staticClass:"empty bTn",attrs:{href:"javascript:void (0)"},on:{click:t.clearFilter}},[t._v("清空筛选项")]),i("a",{staticClass:"enter bTn on",attrs:{href:"javascript:void (0)"},on:{click:t.confirmBtn}},[t._v("确认")])])]):t._e(),i("div",{staticClass:"sortCon"},[i("div",{staticClass:"sortBtn",class:{active:"zonghe"==t.sort},on:{click:function(e){return t.sortClick("zonghe")}}},[i("span",[t._v("综合")]),i("span",{staticClass:"arrowUp",class:{on:1==t.default_order&&"zonghe"==t.sort}}),i("span",{staticClass:"arrowDown",class:{on:2==t.default_order&&"zonghe"==t.sort}})]),i("div",{staticClass:"sortBtn",class:{active:"sale"==t.sort},on:{click:function(e){return t.sortClick("sale")}}},[i("span",[t._v("销量")]),i("span",{staticClass:"arrowUp",class:{on:1==t.sale_order&&"sale"==t.sort}}),i("span",{staticClass:"arrowDown",class:{on:2==t.sale_order&&"sale"==t.sort}})]),i("div",{staticClass:"sortBtn",class:{active:"price"==t.sort},on:{click:function(e){return t.sortClick("price")}}},[i("span",[t._v("价格")]),i("span",{staticClass:"arrowUp",class:{on:1==t.price_order&&"price"==t.sort}}),i("span",{staticClass:"arrowDown",class:{on:2==t.price_order&&"price"==t.sort}})]),i("div",{staticClass:"sortBtn",class:{active:"time"==t.sort},on:{click:function(e){return t.sortClick("time")}}},[i("span",[t._v("时间")]),i("span",{staticClass:"arrowUp",class:{on:1==t.create_time_order&&"time"==t.sort}}),i("span",{staticClass:"arrowDown",class:{on:2==t.create_time_order&&"time"==t.sort}})]),i("div",{staticClass:"changeLayout",class:{on:!t.chunk},on:{click:function(e){return t.changeLayout()}}})]),i("ul",{staticClass:"books clearfix",class:{on:t.chunk}},t._l(t.booksList,(function(e,a){return i("li",{key:a,staticClass:"fl",on:{click:function(a){return t.todetails(e.id)}}},[i("i",{staticClass:"coverBox"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.post,expression:"item.post"}],staticClass:"coverImg",attrs:{alt:""}})]),i("p",{staticClass:"name twoLine"},[t._v(t._s(e.name))]),i("p",{staticClass:"author oneLine"},[t._v(t._s(e.author))]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.chunk,expression:"chunk"}],staticClass:"excerpt"},[t._v(t._s(e.title))]),i("div",{staticClass:"priceCon"},[i("span",{staticClass:"price"},[t._v("￥"+t._s(e.sale_price))]),i("span",{staticClass:"oldPrice"},[t._v("￥"+t._s(e.market_price))])])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:0<t.booksList.length,expression:"booksList.length>0"}],staticClass:"pagination"},[i("el-pagination",{attrs:{"current-page":t.pageNumber,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNumber=e},"update:current-page":function(e){t.pageNumber=e}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_no_data,expression:"show_no_data"}],staticClass:"nodata"},[i("img",{attrs:{src:a("a797"),alt:""}})])])}),[],!1,null,"52f9b1fc",null);e.default=_.exports},a797:function(t,e,a){t.exports=a.p+"static/img/Blank.b0b6f803.png"},e2b4:function(t,e,a){"use strict";var i=a("2e2f");a.n(i).a},ec4a:function(t,e,a){"use strict";var i=a("deaa"),r=a("ac83"),s=a("684e"),o=a("3193"),n=a("536c"),c=a("81a0");i("match",1,(function(t,e,a){return[function(e){var a=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var o=r(t),d=String(this);if(!o.global)return c(o,d);for(var h,_=o.unicode,l=[],u=o.lastIndex=0;null!==(h=c(o,d));){var m=String(h[0]);""===(l[u]=m)&&(o.lastIndex=n(d,s(o.lastIndex),_)),u++}return 0===u?null:l}]}))}}]);